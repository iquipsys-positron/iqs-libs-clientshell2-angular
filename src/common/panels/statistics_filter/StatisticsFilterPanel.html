<div class="iqs-filter-panel-container layout-row divider-bottom lp24-flex rp24-flex">
    <div class="flex" ng-if="$ctrl.pipMedia('gt-sm')">
        <!-- params -->
        <div class="text-caption rm4 param-block" ng-if="$ctrl.isParamsFilter">
            <md-input-container class="md-block iqs-medium-select hide-md-errors-spacer m0">
                <md-select class="flex" aria-label="RULES" ng-change="$ctrl.refreshStatistics()" ng-disabled="$ctrl.ngDisabled" ng-model="$ctrl.paramsFilter">
                    <md-option ng-value="opt.id" ng-repeat="opt in $ctrl.paramsCollection track by opt.id">
                        {{ ::opt.name | translate }}
                    </md-option>
                </md-select>
            </md-input-container>
        </div>

        <div class="text-caption rm4 param-block" ng-if="$ctrl.isEventRuleFilter">
            <md-input-container class="md-block iqs-medium-select hide-md-errors-spacer m0">
                <md-select class="flex" aria-label="RULES" ng-change="$ctrl.refreshStatistics()" ng-disabled="$ctrl.ngDisabled" ng-model="$ctrl.ruleFilter">
                    <md-option ng-value="rule.id" ng-repeat="rule in $ctrl.rulesCollection track by rule.id">
                        {{ ::rule.name }}
                    </md-option>
                </md-select>
            </md-input-container>
        </div>
        <!--rule action-->
        <div class="text-caption rm4 param-block" ng-if="$ctrl.isActionFilter">
            <md-input-container class="md-block iqs-medium-select hide-md-errors-spacer m0">
                <md-select class="flex" aria-label="RULES_ACTION" ng-change="$ctrl.refreshStatistics()" ng-disabled="$ctrl.ngDisabled" ng-model="$ctrl.ruleAction">
                    <md-option ng-value="action.id" ng-repeat="action in $ctrl.ruleActionsCollection track by action.id">
                        {{ ::action.name }}
                    </md-option>
                </md-select>
            </md-input-container>
        </div>
        <!--zones-->
        <div class="text-caption rm4 param-block" ng-if="$ctrl.isZoneFilter">
            <md-input-container class="md-block iqs-medium-select hide-md-errors-spacer m0">
                <md-select class="flex" aria-label="ZONES" ng-change="$ctrl.refreshStatistics()" ng-disabled="$ctrl.ngDisabled" ng-model="$ctrl.zoneFilter">
                    <md-option ng-value="zone.id" ng-repeat="zone in $ctrl.zonesCollection track by zone.id">
                        {{ ::zone.name }}
                    </md-option>
                </md-select>
            </md-input-container>
        </div>
        <!--objects-->
        <div class="text-caption rm4 param-block" ng-if="$ctrl.isObjectFilter">
            <md-input-container class="md-block iqs-medium-select hide-md-errors-spacer m0">
                <md-select class="flex" aria-label="OBJECTS" ng-change="$ctrl.refreshStatistics()" ng-disabled="$ctrl.ngDisabled" ng-model="$ctrl.objectFilter">
                    <md-option ng-value="object.id" ng-repeat="object in $ctrl.objectsCollection track by object.id">
                        {{ ::object.name }}
                    </md-option>
                </md-select>
            </md-input-container>
        </div>
        <!--devices-->
        <div class="text-caption rm4 param-block" ng-if="$ctrl.isDeviceFilter">
            <md-input-container class="md-block iqs-medium-select hide-md-errors-spacer m0">
                <md-select class="flex" aria-label="DEVICE" ng-change="$ctrl.refreshStatistics()" ng-disabled="$ctrl.ngDisabled" ng-model="$ctrl.deviceFilter">
                    <md-option ng-value="device.id" ng-repeat="device in $ctrl.devicesCollection track by device.id">
                        {{ ::device.name }}
                    </md-option>
                </md-select>
            </md-input-container>
        </div>

        <!--date periods-->
        <div class="text-caption rm4 param-block" ng-if="$ctrl.isDatePeriod">
            <md-input-container class="md-block iqs-small-select hide-md-errors-spacer  m0">
                <md-select class="flex" aria-label="Status" ng-model="$ctrl.datePeriod" ng-disabled="$ctrl.ngDisabled" ng-change="$ctrl.changeDatePeriod()">
                    <md-option ng-value="opt.id" ng-repeat="opt in $ctrl.dateFilters track by opt.id">
                        {{ ::opt.name | translate }}
                    </md-option>
                </md-select>
            </md-input-container>
        </div>

        <div class="text-caption rm4 param-block" ng-if="$ctrl.datePeriod != 'range'">
            <md-input-container class="md-block flex tm0 bm0 iqs-stats-datepicker">
                <md-datepicker md-hide-icons="calendar" class="text-caption rm0 tm4 {{ $ctrl.datePeriod == 'Weekly' ? 'iqs-week' : '' }} {{ $ctrl.openDatePicker ? '' : 'iqs-active-date color-accent' }}"
                    ng-model="$ctrl.startDate" aria-label="START_DATE" ng-change="$ctrl.onCalendarDateChange()">
                </md-datepicker>
            </md-input-container>
        </div>

        <div class="text-caption" ng-if="$ctrl.datePeriod == 'range'">
            <div class="text-caption rm4 param-block">
                <md-input-container  class="md-block flex tm0 bm0 iqs-stats-datepicker">
                    <md-datepicker class="w-stretch " md-hide-icons="calendar" aria-label="TIME" ng-change="$ctrl.startDateTimeChanged($ctrl.startDate)"
                        ng-model="$ctrl.startDate" ng-disabled="$ctrl.ngDisabled">
                    </md-datepicker>
                </md-input-container>
            </div>
            <div class="param-block rm4 time-block">
                <pip-time-autocomplete pip-time-label="false" pip-change-callback="$ctrl.startDateTimeChanged" ng-disabled="$ctrl.ngDisabled"
                    pip-date-time="$ctrl.startDate" pip-time-step="60" pip-select-font-size="12">
                </pip-time-autocomplete>
            </div>
            <div class="text-caption rm4 param-block">
                <md-input-container class="md-block flex tm0 bm0 iqs-stats-datepicker">
                    <md-datepicker class="w-stretch " md-hide-icons="calendar" aria-label="TIME" ng-change="$ctrl.endDateTimeChanged($ctrl.endDate)"
                        ng-model="$ctrl.endDate" ng-disabled="$ctrl.ngDisabled">
                    </md-datepicker>
                </md-input-container>
            </div>
            <div class="param-block rm4 time-block">
                <pip-time-autocomplete pip-time-label="false" pip-change-callback="$ctrl.endTimeChanged" ng-disabled="$ctrl.ngDisabled"
                    pip-date-time="$ctrl.endDate" pip-time-step="60" pip-select-font-size="12">
                </pip-time-autocomplete>
            </div>
        </div>

        <!-- shifts -->

        <div class="text-caption rm4 param-block" ng-if="$ctrl.isDatePeriod && $ctrl.datePeriod == 'shift'">
            <md-input-container class="md-block iqs-medium-select hide-md-errors-spacer m0">
                <md-select class="flex" aria-label="DEVICE" ng-change="$ctrl.refreshStatistics()" ng-disabled="$ctrl.ngDisabled" ng-model="$ctrl.shiftFilter">
                    <md-option ng-value="shift.id" ng-repeat="shift in $ctrl.shiftsCollection track by shift.id">
                        {{ ::shift.name }}
                    </md-option>
                </md-select>
            </md-input-container>
        </div>
    </div>

    <div class="flex layout-row layout-align-start-center" ng-if="!$ctrl.pipMedia('gt-sm')">
        <md-button class="md-icon-button m0" ng-click="$ctrl.openFilterDialog()" aria-label="filter button" tabindex="-1">
            <md-icon md-svg-icon="icons:filter"></md-icon>
        </md-button>
    </div>

    <!--datetime interval-->
    <div class="layout-row layout-align-center-center flex-fixed">
        <!--date range-->
        <div class="layout-row layout-align-center-center iqs-statistics-date-buttons">
            <md-button class="md-icon-button m0" ng-click="$ctrl.prevDate()" aria-label="current user" tabindex="-1">
                <md-tooltip md-visible="showTooltip" md-direction="bottom">
                    {{ ::'STATISTICS_FILTER_DATE_PREV' | translate }}
                </md-tooltip>
                <md-icon md-svg-icon="icons:chevron-big-left"></md-icon>
            </md-button>
            <md-button class="md-icon-button flex-fixed m0" aria-label="current user" tabindex="-1" ng-click="$ctrl.currentDate()">
                <md-tooltip md-visible="showTooltip" md-direction="bottom">
                    {{ ::'STATISTICS_FILTER_DATE_CURRENT' | translate }}
                </md-tooltip>                
                <md-icon md-svg-icon="icons:date"></md-icon>
            </md-button>
            <md-button class="md-icon-button flex-fixed m0" aria-label="current user" tabindex="-1" ng-click="$ctrl.nextDate()">
                <md-tooltip md-visible="showTooltip" md-direction="bottom">
                    {{ ::'STATISTICS_FILTER_DATE_NEXT' | translate }}
                </md-tooltip>                
                <md-icon md-svg-icon="icons:chevron-big-right"></md-icon>
            </md-button>
        </div>
    </div>
</div>